{"version":3,"kind":"Notebook","sha256":"1ba6c403d5e6f648a2c9b6831fa19c99b3783690b6d64d7bc26d881a0affaa8b","slug":"notebooks.courses.microwave-remote-sensing.unit-01.in-class-exercise","location":"/notebooks/courses/microwave-remote-sensing/unit_01/01_in_class_exercise.ipynb","dependencies":[],"frontmatter":{"title":"Discover and Read SAR Data","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Wolfgang Wagner","given":"Wolfgang","family":"Wagner"},"name":"Wolfgang Wagner","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Martin Schobben","given":"Martin","family":"Schobben"},"name":"Martin Schobben","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Nikolas Pikall","given":"Nikolas","family":"Pikall"},"name":"Nikolas Pikall","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Joseph Wagner","given":"Joseph","family":"Wagner"},"name":"Joseph Wagner","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Davide Festa","given":"Davide","family":"Festa"},"name":"Davide Festa","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Felix David Reuß","given":"Felix David","family":"Reuß"},"name":"Felix David Reuß","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Luka Jović","given":"Luka","family":"Jović"},"name":"Luka Jović","id":"contributors-myst-generated-uid-6"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"copyright":"2024","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":2}},"exports":[{"format":"ipynb","filename":"01_in_class_exercise.ipynb","url":"/eo-datascience-cookbook/build/01_in_class_exercise-c3db94f6f5e8b09adb4d954f0a53f858.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook demonstrates how to access radar data in a SpatioTemporal Asset Catalog (STAC) Catalogue using the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OUNm0WhtXC"},{"type":"inlineCode","value":"pystac","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iQpYS8hGIN"},{"type":"text","value":" library. In this example, we use Sentinel-1 data from the EODC (earth observation data and high performance computing service provider based in Vienna) STAC catalog. In the further process, we will learn how to query a STAC catalog, select specific items, and display the metadata and the actual image.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"k5hcYbByih"}],"key":"BBwXarnu0e"}],"key":"pKFbVWu7gP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import folium\nimport pystac_client\nfrom odc import stac as odc_stac","key":"pZ7DFTsLiO"},{"type":"outputs","id":"zmxultDFytlieX864rX3L","children":[],"key":"BOGXxnpAva"}],"key":"Ep6sLvt6ed"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data Discovery","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KVu0P2MfK7"}],"identifier":"data-discovery","label":"Data Discovery","html_id":"data-discovery","implicit":true,"key":"KJgvR7tCou"}],"key":"sBA7yeQGiY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"eodc_catalog = pystac_client.Client.open(\"https://stac.eodc.eu/api/v1\")\n\neodc_catalog","key":"ZLXU9UE4uQ"},{"type":"outputs","id":"Kg-cIX5Uu3u6TU8jL0wnT","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"<Client id=stac-fastapi>","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"cfe74d50c8827055d27dc4f7e00ea24a","path":"/eo-datascience-cookbook/build/cfe74d50c8827055d27dc4f7e00ea24a.html"}}},"key":"L0LXlKXgI2"}],"key":"eR6NrkEokZ"}],"key":"sCgtHoEttI"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The URL ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dKqo7g9a7c"},{"type":"inlineCode","value":"https://stac.eodc.eu/api/v1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U9KZEhA1rf"},{"type":"text","value":", served over Hypertext Transfer Protocol (HTTP), is a STAC-compliant API endpoint (specific URL address where an API service is available) that leads to the EODC Catalogue. Besides EODC’s, other catalogues can be found on ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C4Y9rRa40E"},{"type":"link","url":"https://stacindex.org/catalogs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"STAC Index","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YujKqSgstX"}],"urlSource":"https://stacindex.org/catalogs","key":"snNxDWq93R"},{"type":"text","value":", such as United States Geological Survey (USGS) Landsat imagery, Sentinel Hub, Copernicus Data Space Ecosystem, and so on. Briefly spoken, STAC can be used to search, discover, and access metadata of these datasets with the same code. The EODC Catalogue can be accessed on the web via this ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GjRQVML34b"},{"type":"link","url":"https://services.eodc.eu/browser/#/?.language=en","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"link","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iV5CgL0w0q"}],"urlSource":"https://services.eodc.eu/browser/#/?.language=en","key":"wFmWUtA4sK"},{"type":"text","value":" as well.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OlzUpF4nHK"}],"key":"Y3l3HJmD8O"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Each STAC catalog, composed by different providers, has many collections. To get all collections of a catalog, we can print all of them and their ids, which are used to fetch them from the catalog.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KS23JXSlES"}],"key":"CKJYwXygFH"}],"key":"UUuKSHjHm3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"collections = eodc_catalog.get_collections()\n\n# length of string of collection.id, for pretty print\nmax_length = max(len(collection.id) for collection in collections)\n\nfor collection in eodc_catalog.get_collections():\n    print(f\"{collection.id.ljust(max_length)}: {collection.title}\")","key":"Y7TfXCS865"},{"type":"outputs","id":"AVMmHUM-Auk1MLTxo8fN0","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"AI4SAR_SIG0                      : AI4SAR Despeckled Sentinel-1 Sigma0 (20m)\nASA_IMP_1P                       : Envisat ASAR Image Mode Precision Level-1\nASA_IMS_1P                       : Envisat ASAR Image Mode Single Look Complex Level-1\nAUSTRIA_GROUND_MOTION            : Austria Ground Motion\nAUT_DEM                          : Austrian High Resolution DEM\nBOA_LANDSAT_8                    : Bottom of Atmosphere Landsat-8 at 30m resolution.\nBOA_SENTINEL_2                   : Bottom of Atmosphere Sentinel-2 at 10m resolution.\nCGLS_SSM_1KM                     : Copernicus Global Land Surface Soil Moisture\nclms                             : Copernicus Land Monitoring Service\nCOP_DEM                          : Copernicus Digital Elevation Model (DEM)\nCORINE_LAND_COVER                : Corine Land Cover\nDOP_AUT_K_KLAGENFURT             : Digital Orthophotos (DOP) Austria - Land Kärnten: Orthofotos Flugblock Klagenfurt\nDOP_AUT_K_OSTTIROL               : Digital Orthophotos (DOP) Austria - Land Kärnten: Orthofotos Flugblock Osttirol\nDOP_AUT_K_TAMSWEG                : Digital Orthophotos (DOP) Austria - Land Kärnten: Orthofotos Flugblock Tamsweg\nDOP_AUT_K_VILLACH                : Digital Orthophotos (DOP) Austria - Land Kärnten: Orthofotos Flugblock Villach\nDOP_AUT_K_WOLFSBERG              : Digital Orthophotos (DOP) Austria - Land Kärnten: Orthofotos Flugblock Wolfsberg\nDOP_AUT_K_ZELL_AM_SEE            : Digital Orthophotos (DOP) Austria - Land Kärnten: Orthofotos Flugblock Zell am See\nDOP_AUT_K_ZELTWEG                : Digital Orthophotos (DOP) Austria - Land Kärnten: Orthofotos Flugblock Zeltweg\nDOP_AUT_ST_BISCHOFSHOFEN         : Digital Orthophotos (DOP) Austria - Land Steiermark: Orthophotos Flugblock Bischofshofen\nDOP_AUT_ST_GRAZ                  : Digital Orthophotos (DOP) Austria - Land Steiermark: Orthophotos Flugblock Graz\nDOP_AUT_ST_KLAGENFURT            : Digital Orthophotos (DOP) Austria - Land Steiermark: Orthophotos Flugblock Klagenfurt\nDOP_AUT_ST_MARIAZELL             : Digital Orthophotos (DOP) Austria - Land Steiermark: Orthophotos Flugblock Mariazell\nDOP_AUT_ST_MURTAL                : Digital Orthophotos (DOP) Austria - Land Steiermark: Orthophotos Flugblock Murtal\nDOP_AUT_ST_SUEDBURGENLAND        : Digital Orthophotos (DOP) Austria - Land Steiermark: Orthophotos Flugblock Suedburgenland\nDOP_AUT_ST_VILLACH               : Digital Orthophotos (DOP) Austria - Land Steiermark: Orthophotos Flugblock Villach\nDOP_AUT_ST_WINDISCHGARSTEN       : Digital Orthophotos (DOP) Austria - Land Steiermark: Orthophotos Flugblock Windischgarsten\nDROUGHT_VULNERABILITY            : Drought Vulnerability\nDSM_AUT                          : Austrian Digital Surface Model\nERS_ENVISAT_NRB                  : ERS-1/2 SAR and ENVISAT ASAR ARD Normalized Radar Backscatter (NRB)\nGFM                              : Global Flood Monitoring\nincal-hourly                     : INCA analysis hourly data (1km)\nINTRA_FIELD_CROP_GROWTH_POTENTIAL: Intra-field Crop Growth Potential\nRUCIO_SENTINEL2_MFCOVER          : Monthly Composite of Fraction of Vegetation Cover\nSAR_IMP_1P                       : ERS-1/2 SAR Image Mode Precision Level-1\nSAR_IMS_1P                       : ERS-1/2 SAR Image Mode Single Look Complex Level-1\nSENTINEL1_ALPS_WETSNOW           : Sentinel-1 Alps WetSnow\nSENTINEL1_GMR0                   : SENTINEL1 Radiometric Terrain Corrected Gamma Nought\nSENTINEL1_GRD                    : Sentinel-1 SAR L1 GRD\nSENTINEL1_GRD_COVERAGE           : Sentinel-1 Coverage Maps\nSENTINEL1_HPAR                   : SENTINEL1 Harmonic Parameters\nSentinel-1_Lacken_Extent         : SENTINEL-1 Lacken Extent\nSENTINEL1_MPLIA                  : SENTINEL1 Mean PLIA\nSentinel-1_Reed_Extent           : SENTINEL-1 Reed Extent\nSENTINEL1_SCENE_GMR0             : SENTINEL1 Scene-based Radiometric Terrain Corrected Gamma Nought\nSENTINEL1_SIG0_20M               : SENTINEL1 Sigma Nought (SIG0) Backscatter in 20 meter resolution\nSENTINEL1_SLC                    : Sentinel-1 SLC\nSentinel-2-Greenness-Austria     : Sentinel-2 Greenness Austria\nSENTINEL2_GRI_L1C                : Multi-Layer Copernicus Sentinel-2 GRI in L1C\nSENTINEL2_L1C                    : Sentinel-2 MSI Products: Level-1C data\nSENTINEL2_L1C_COVERAGE           : Sentinel-2 L1C Coverage Maps\nSENTINEL2_L2A                    : Sentinel-2 MSI Products: Level-2A data\nsentinel2-landsat8-l2f           : Harmonized Landsat and Sentinel 2 L2F\nSENTINEL2_MFCOVER                : Monthly Composite of Fraction of Vegetation Cover\nSENTINEL3_SRAL_L2                : Sentinel-3 Products: SRAL Level-2 data\nspartacus-daily                  : Spartacus Analysis Daily (1 km)\nSSM-RT0-SIG0-R-EXTR              : SSM-RT0-SIG0-R-EXTR\ntopo-dc-austria-dsm              : Digital surface model (1m x 1m) [TOPO4EO]\ntopo-dc-austria-dtm              : Digital terrain model (1m x 1m) [TOPO4EO]\ntopo-dc-austria-ndsm             : Normalized digital surface model (1m x 1m) [TOPO4EO]\nVEGETATION_CHANGE_AUSTRIA        : Vegetation-Change-Austria\n"},"key":"EFyrNmur0d"}],"key":"GK3hOvHSiu"}],"key":"CSmSae4Z4E"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To get a specific collection from the catalog, we can use the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jk6AgcxIYw"},{"type":"inlineCode","value":"client.get_collection()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sl2JxWAAzQ"},{"type":"text","value":" method and provide the collection name. We can then display its description, id, temporal and spatial extent, license, etc. In this notebook, we will work with the Sentinel-1 sigma naught 20m collection.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zeup8mZrA5"}],"key":"tdmxMwNQWa"}],"key":"lZkckBY2qk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"colllection_id = \"SENTINEL1_SIG0_20M\"\n\ncollection = eodc_catalog.get_collection(colllection_id)\ncollection","key":"uiE6xOWmwi"},{"type":"outputs","id":"gR6CkxyRi0ul0l7Nd5CcD","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"<CollectionClient id=SENTINEL1_SIG0_20M>","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"d740a50b22f985020a7e00949a8780d9","path":"/eo-datascience-cookbook/build/d740a50b22f985020a7e00949a8780d9.html"}}},"key":"VG2B8H3kpC"}],"key":"yNoztimsrz"}],"key":"iXvXJveCdR"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Each collection has multiple items. An item is one spatio-temporal instance in the collection, for instance a satellite image. If items are needed for a specific timeframe or for a specific region of interest, we can define this as a query.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YlV9n0CQj4"}],"key":"V9UWdqX6Y8"}],"key":"aueqezan1Y"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"time_range = \"2022-10-01/2022-10-07\"  # a closed range\n# time_range = \"2022-01\"  # whole month, same can be done for a year and a day\n# time_range = \"2022-01-01/..\"  # up to the current date, an open range\n# time_range = \"2022-01-01T05:34:46\"  # a specific time instance","key":"KazBUDKDvc"},{"type":"outputs","id":"FHBUUecjL52qBlRg_2yxB","children":[],"key":"x7tRGqiZZp"}],"key":"pPfKoF7pB2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A spatial region of interest can be defined in different ways. One option is to define a simple bounding box:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JF0C7M2NJC"}],"key":"gDGeHHalN4"}],"key":"v1ultzc5eE"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"latmin, latmax = 46.3, 49.3  # South to North\nlonmin, lonmax = 13.8, 17.8  # West to East\n\nbounding_box = [lonmin, latmin, lonmax, latmax]","key":"j05wI07JoA"},{"type":"outputs","id":"XLLdpKpGgRPHrhOrawfWn","children":[],"key":"lXkBZDygFf"}],"key":"zfuuyUxQCX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If the region of interest is not rectangular, we can also define a polygon:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Fwzvbhazcu"}],"key":"mXxE8wt0yN"}],"key":"SDkajN6EV5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# GEOJSON can be created on geojson.io\n\n# This specific area of interest is a rectangle, but since it is\n# a closed polygon it seems like it has five nodes\n\narea_of_interest = {\n    \"coordinates\": [\n        [\n            [17.710928010825853, 49.257630084442496],\n            [13.881798300915221, 49.257630084442496],\n            [13.881798300915221, 46.34747715326259],\n            [17.710928010825853, 46.34747715326259],\n            [17.710928010825853, 49.257630084442496],\n        ]\n    ],\n    \"type\": \"Polygon\",\n}","key":"WKcEiHScDq"},{"type":"outputs","id":"pPKTsu5hV0JY2Y0iz0lg7","children":[],"key":"I7t05eWWik"}],"key":"rn4x7d4Z2b"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Using our previously loaded STAC catalog, we can now search for items fullfilling our query. In this example we are using the bounding box. If we want to use an area of interest specified in the geojson format - one has to use the intersects parameter as documented in the comment below.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lGlP7Dx8cs"}],"key":"bOd2eSWF5V"}],"key":"X50JwL2awD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"search = eodc_catalog.search(\n    collections=colllection_id,  # can also be a list of several collections\n    bbox=bounding_box,  # search by bounding box\n    # intersects=area_of_interest,  # GeoJSON search\n    datetime=time_range,\n    # max_items=1  # number of max items to load\n)\n\n# If we comment everything besides colllection_id, we will load whole\n# collection for available region and time_range\n\nitems_eodc = search.item_collection()\nprint(f\"On EODC we found {len(items_eodc)} items for the given search query\")","key":"fApoY7rH90"},{"type":"outputs","id":"UG2yCC3qL_EKcPwVFAU5u","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"On EODC we found 52 items for the given search query\n"},"key":"Np0IpAvNtA"}],"key":"ysb6UjgSbo"}],"key":"ot6wuMjJTu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now, we can fetch a single item, in this case a Sentinel-1 image, from the query results. A good practice is to always check what metadata the data provider has stored on the item level. This can be done by looking into the item properties.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z7Py88Ou5n"}],"key":"K0Gzkv1I7s"}],"key":"f9k2TMWlya"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"item = items_eodc[0]\nitem.properties","key":"fxKevKRLVj"},{"type":"outputs","id":"mSM1ivhWN-D2yWMA_daID","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/plain":{"content":"{'gsd': 20,\n 'parent': 'S1A_IW_GRDH_1SDV_20221007T170811_20221007T170836_045339_056BBA_D830.zip',\n 'checksum': '576abe68a715e5ee177d8b640871e873',\n 'datetime': '2022-10-07T17:08:11Z',\n 'blocksize': {'x': 15000, 'y': 5},\n 'proj:bbox': [4800000, 1500000, 5100000, 1800000],\n 'proj:wkt2': 'PROJCS[\"Azimuthal_Equidistant\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174532925199433],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Azimuthal_Equidistant\"],PARAMETER[\"latitude_of_center\",53],PARAMETER[\"longitude_of_center\",24],PARAMETER[\"false_easting\",5837287.81977],PARAMETER[\"false_northing\",2121415.69617],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]]]',\n 'proj:shape': [15000, 15000],\n 'Equi7_TileID': 'EU020M_E048N015T3',\n 'constellation': 'sentinel-1',\n 'proj:geometry': {'type': 'Polygon',\n  'coordinates': [[[4800000.0, 1500000.0],\n    [4800000.0, 1800000.0],\n    [5100000.0, 1800000.0],\n    [5100000.0, 1500000.0],\n    [4800000.0, 1500000.0]]]},\n 'proj:transform': [20, 0, 4800000, 0, -20, 1800000],\n 'sat:orbit_state': 'ascending',\n 'sar:product_type': 'GRD',\n 'slice_gap_filled': False,\n 'sar:polarizations': ['VH', 'VV'],\n 'sar:frequency_band': 'C',\n 'sat:relative_orbit': 117,\n 'sar:instrument_mode': 'IW',\n 'border_noise_removed': True,\n 'sar:center_frequency': 5.405,\n 'sar:resolution_range': 40,\n 'thermal_noise_removed': True,\n 'sar:resolution_azimuth': 40,\n 'sar:pixel_spacing_range': 20,\n 'sar:observation_direction': 'right',\n 'sar:pixel_spacing_azimuth': 20,\n 'sat:platform_international_designator': '2014-016A'}","content_type":"text/plain"}}},"key":"NV61eX4dVi"}],"key":"iDryRnZcxB"}],"key":"OofCtXgzFs"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"For now, let’s display only the vertical-vertical (VV) polarized band of the item and some information about the data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DUPEK3fxWS"}],"key":"XlfmxM32bp"}],"key":"Fda62XOtsb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"item.assets[\"VV\"].extra_fields.get(\"raster:bands\")[0]","key":"wXfGZ0megM"},{"type":"outputs","id":"uRVpFIpLwTnx8OdW78PMD","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"{'scale': 10,\n 'nodata': -9999,\n 'offset': 0,\n 'data_type': 'int16',\n 'spatial_resolution': 20}","content_type":"text/plain"}}},"key":"QgZjDIoKjJ"}],"key":"zwVi66nUR8"}],"key":"Oas2ZDfQvH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the EODC STAC catalogue an item can conveniently be displayed using its thumbnail.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y8U41Ze3G9"}],"key":"VX7q03kBTT"}],"key":"vYSDB93dG6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"item.assets[\"thumbnail\"].href","key":"kO7FwcWRWl"},{"type":"outputs","id":"5192pjPaW-4hlT7BBOOev","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"'https://data.eodc.eu/collections/SENTINEL1_SIG0_20M/V1M1R1/EQUI7_EU020M/E048N015T3/SIG0_20221007T170811__VV_A117_E048N015T3_EU020M_V1M1R1_S1AIWGRDH_TUWIEN.tif/thumbnail'","content_type":"text/plain"}}},"key":"ba0GxewooI"}],"key":"n5KF3iobIt"}],"key":"zCw6nGpQt0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we will plot the data on a map using the thumbnail and the python package ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"teOkPJM2W5"},{"type":"link","url":"https://python-visualization.github.io/folium/latest/user_guide.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"folium","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wg3AjItTca"}],"urlSource":"https://python-visualization.github.io/folium/latest/user_guide.html","key":"cclihbcLhx"},{"type":"text","value":". This is an easy way to quickly check how the data found by a search query looks on a map.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jwTFzbr17w"}],"key":"Fa6QHrJnog"}],"key":"IMzFuyyVxy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"map = folium.Map(\n    location=[(latmin + latmax) / 2, (lonmin + lonmax) / 2],\n    zoom_start=7,\n    zoom_control=False,\n    scrollWheelZoom=False,\n    dragging=False,\n)\n\nfolium.GeoJson(area_of_interest, name=\"Area of Interest\").add_to(map)\n\nfor item in items_eodc:\n    # url leading to display of an item, can also be used as hyperlink\n    image_url = item.assets[\"thumbnail\"].href\n    bounds = item.bbox\n    folium.raster_layers.ImageOverlay(\n        image=image_url,\n        bounds=[[bounds[1], bounds[0]], [bounds[3], bounds[2]]],\n    ).add_to(map)\n\nfolium.LayerControl().add_to(map)\n\nmap","key":"dWZiU10IMv"},{"type":"outputs","id":"X8TMDupvJUTy3fvPgHXd2","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/plain":{"content":"<folium.folium.Map at 0x7efe11882cf0>","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"fbae967086a3136ab1af4f077f9cb4d3","path":"/eo-datascience-cookbook/build/fbae967086a3136ab1af4f077f9cb4d3.html"}}},"key":"JNO6P2KW9O"}],"key":"EFJY963Oux"}],"key":"ErhYry8pTu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure 1: Map of study area. Blue rectangle is the area covered by the discovered data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CQ7xOUbVZ9"}],"key":"txPkP2XoMy"}],"key":"f9QkYmajCh"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Data Reading","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"m5NCg1Ys88"}],"identifier":"data-reading","label":"Data Reading","html_id":"data-reading","implicit":true,"key":"vpg6KsMl0T"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"STAC can also be a useful tool for the discovery of data, however it only loads metadata. This saves memory, but if one would like to do further analysis, the data has to be loaded into memory or downloaded on disk.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"oAw9AQ9wWB"}],"key":"RhaI6F4fo2"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"In the following, we will demonstrate this with the library ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vhXkBWGv7n"},{"type":"inlineCode","value":"odc-stac","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"HxGj306xlD"},{"type":"text","value":". Here we can define what data will loaded as ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ffrRENMTGl"},{"type":"inlineCode","value":"bands","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Tqe4Jszreg"},{"type":"text","value":"; in this case VV sigma naught. Moreover we can resample the data by providing any coordinate reference system (CRS) and resolution as well as a method for resampling of continuos data (e.g. bilinear resampling). In the example below we use the EQUI7 Grid of Europe and a 20 meter sampling. This is the native format of sigma naught stored at EODC, so there will be no actual resampling. Note, also, that resampling is not advisable for this data, as it is provided on a logarithmic scale. More about this in the notebook “Backscattering Coefficients”.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rBdPDKkqV5"}],"key":"kRe1PMc78S"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The chunks argument is an advancement method for performing parallel computations on the data. We will not cover this in further detail.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"xgiyQVfABs"}],"key":"IQYlLljbf9"}],"key":"XJ0SBtbS16"}],"key":"MdWQLBaf1A"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"bands = \"VV\"  # Vertical-vertical polarized\ncrs = \"EPSG:27704\"  # Coordinate Reference System: EQUI7 Grid of Europe\nres = 20  # 20 meter\nchunks = {\"time\": 1, \"latitude\": 1000, \"longitude\": 1000}\nsig0_dc = odc_stac.load(\n    items_eodc,\n    bands=bands,\n    crs=crs,\n    resolution=res,\n    bbox=bounding_box,\n    chunks=chunks,\n    resampling=\"bilinear\",\n)","key":"K9Bi1UDBto"},{"type":"outputs","id":"jgqtkwLgvqL452-qFrRHK","children":[],"key":"sUNQ9Yd1N5"}],"key":"uerIZwzT1L"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s have a look at the VV polarized band of the dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ghZsceYz9t"}],"key":"HNqtrid1pX"}],"key":"tOL3RcbHFq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sig0_dc.VV","key":"BHkSids0y3"},{"type":"outputs","id":"a9WhWDZn79-Kb0wrWu4bN","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'VV' (time: 31, y: 18269, x: 16725)> Size: 19GB\ndask.array<VV, shape=(31, 18269, 16725), dtype=int16, chunksize=(1, 18269, 16725), chunktype=numpy.ndarray>\nCoordinates:\n  * time         (time) datetime64[us] 248B 2022-10-01T05:09:56 ... 2022-10-0...\n  * y            (y) float64 146kB 1.762e+06 1.762e+06 ... 1.396e+06 1.396e+06\n  * x            (x) float64 134kB 5.052e+06 5.052e+06 ... 5.387e+06 5.387e+06\n    spatial_ref  int32 4B 27704\nAttributes:\n    nodata:   -9999","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"034718df7a3ce0bab76c16dd9a4b461b","path":"/eo-datascience-cookbook/build/034718df7a3ce0bab76c16dd9a4b461b.html"}}},"key":"MU0OiQztXJ"}],"key":"art0ayQnM2"}],"key":"ft6CoG1Yjf"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As we can see, the data is stored as a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yoCXt4Lyxu"},{"type":"inlineCode","value":"xarray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HAZ0MJ78iV"},{"type":"text","value":" DataArray. Xarray is a convenient package for multidimensional labeled arrays, like temperature, humidity, pressure, different bands of satellite imagery, and so on. ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z9blgIMvXO"},{"type":"link","url":"https://docs.xarray.dev/en/stable/index.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The link","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"k9U1OdYjoi"}],"urlSource":"https://docs.xarray.dev/en/stable/index.html","key":"xf97faP2qk"},{"type":"text","value":" provides detailed documentation. In a later notebook we will explore some more of the functionality of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H5xwdwwRMk"},{"type":"inlineCode","value":"xarray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IfEI9XbI51"},{"type":"text","value":". As we can see in the coordinates, the data here consists of 21 time steps.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R2yFxFRUiO"}],"key":"tMXLi64C3k"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In general, data from STAC is “lazily” loaded, which means that the structure of the DataArray is constructed, but the data is not loaded yet. It is loaded only at instance when it is needed, for example, for plotting, computations, and so on.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FqTcg9ehvJ"}],"key":"bN6bWMzusC"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Since the DataArray has currently a size of almost 18 GiB, we will subset it to the region of Vienna.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PvKoi4JoNe"}],"key":"uURMJutB1T"}],"key":"xPUqgCZLrC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create a bounding box covering the region of Vienna\nlatmin_smaller, latmax_smaller = 48, 48.4\nlonmin_smaller, lonmax_smaller = 16, 16.5\n\nsmaller_bounding_box = [\n    [latmin_smaller, lonmin_smaller],\n    [latmax_smaller, lonmax_smaller],\n]\n\nmap = folium.Map(\n    location=[\n        (latmin_smaller + latmax_smaller) / 2,\n        (lonmin_smaller + lonmax_smaller) / 2,\n    ],\n    zoom_start=8,\n    zoom_control=False,\n    scrollWheelZoom=False,\n    dragging=False,\n)\n\nfolium.GeoJson(area_of_interest, name=\"Area of Interest\").add_to(map)\n\nfolium.Rectangle(\n    bounds=smaller_bounding_box,\n    color=\"red\",\n).add_to(map)\n\nfor item in items_eodc:\n    image_url = item.assets[\"thumbnail\"].href\n    bounds = item.bbox\n    folium.raster_layers.ImageOverlay(\n        image=image_url,\n        bounds=[[bounds[1], bounds[0]], [bounds[3], bounds[2]]],\n    ).add_to(map)\n\nfolium.LayerControl().add_to(map)\n\nmap","key":"QTJSd6k47f"},{"type":"outputs","id":"GwcA_rNU4ImYHr9CPLxlg","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"<folium.folium.Map at 0x7efe1147cb90>","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"80b040516635288d7c0c5ace573649e4","path":"/eo-datascience-cookbook/build/80b040516635288d7c0c5ace573649e4.html"}}},"key":"kxB4e2rjbG"}],"key":"nhdHHKTV0L"}],"key":"bCsqA5lDaW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure 2: Map of study area. Blue rectangle is the area covered by the discovered data. Red rectangle covers the selected data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dYFudwYsuM"}],"key":"Omn3byckYc"}],"key":"bUC4THbyvH"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Create a new dataset with the smaller bounding box covering the region of Vienna. We will leave out the arguments for resampling and directly use the native format as defined in the metadata.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xPCjkRAR5f"}],"key":"mJpogBvVpv"}],"key":"nyZbAKLR6P"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sig0_dc = odc_stac.load(\n    items_eodc,\n    bands=bands,\n    bbox=[lonmin_smaller, latmin_smaller, lonmax_smaller, latmax_smaller],\n    chunks=chunks,\n)","key":"ieYBNnOQs2"},{"type":"outputs","id":"ySiKgvgKuVZNzJqrWGzic","children":[],"key":"HGaRz6mhI8"}],"key":"efIgz7bz7p"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Due to the way the data is acquired and stored, some items include “no data” areas. In our case, no data has the value -9999, but this can vary from data provider to data provider. This information can usually be found in the metadata. Furthermore, to save memory, data is often stored as integer (e.g. 25) and not in float (e.g. 2.5) format. For this reason, the backscatter values are often multiplied by a scale factor, in this case factor 10.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mwYbWncLcS"}],"key":"F8iHFkRt38"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As Sentinel-1 satellites overpasses Austria every few days, only some time steps of the dataset will have physical data. As a final step, we will now decode the data and create a plot of two consecutive Sentinel-1 acquisitions of Vienna.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eTyw6GeQLa"}],"key":"HokdmxE51d"}],"key":"ix5tO8kvrh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Retrieve the scale factor and NoData value from the metadata. raster:bands is\n# a STAC raster extension\nscale = item.assets[\"VV\"].extra_fields.get(\"raster:bands\")[0][\"scale\"]\nnodata = item.assets[\"VV\"].extra_fields.get(\"raster:bands\")[0][\"nodata\"]\n\n# Decode data with the NoData value and the scale factor\nsig0_dc = sig0_dc.where(sig0_dc != nodata) / scale\n\n# We should remove unnecessary dates when there was no data\n# (no satellite overpass)\nsig0_dc = sig0_dc.dropna(dim=\"time\")","key":"rFG0Imz6CE"},{"type":"outputs","id":"_oJRMcR_uByOe0UVJdB5p","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"Aborting load due to failure while reading: https://data.eodc.eu/collections/SENTINEL1_SIG0_20M/V1M1R1/EQUI7_EU020M/E051N015T3/SIG0_20221002T165904__VV_A044_E051N015T3_EU020M_V1M1R1_S1AIWGRDH_TUWIEN.tif:1\n"},"key":"HTi6RfDaQy"},{"type":"output","children":[],"jupyter_data":{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mCPLE_HttpResponseError\u001b[39m                    Traceback (most recent call last)\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/rasterio/_base.pyx:320\u001b[39m, in \u001b[36mrasterio._base.DatasetBase.__init__\u001b[39m\u001b[34m()\u001b[39m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/rasterio/_base.pyx:232\u001b[39m, in \u001b[36mrasterio._base.open_dataset\u001b[39m\u001b[34m()\u001b[39m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/rasterio/_err.pyx:359\u001b[39m, in \u001b[36mrasterio._err.exc_wrap_pointer\u001b[39m\u001b[34m()\u001b[39m\n\n\u001b[31mCPLE_HttpResponseError\u001b[39m: HTTP response code: 502\n\nDuring handling of the above exception, another exception occurred:\n\n\u001b[31mRasterioIOError\u001b[39m                           Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[17]\u001b[39m\u001b[32m, line 11\u001b[39m\n\u001b[32m      7\u001b[39m sig0_dc = sig0_dc.where(sig0_dc != nodata) / scale\n\u001b[32m      9\u001b[39m \u001b[38;5;66;03m# We should remove unnecessary dates when there was no data\u001b[39;00m\n\u001b[32m     10\u001b[39m \u001b[38;5;66;03m# (no satellite overpass)\u001b[39;00m\n\u001b[32m---> \u001b[39m\u001b[32m11\u001b[39m sig0_dc = \u001b[43msig0_dc\u001b[49m\u001b[43m.\u001b[49m\u001b[43mdropna\u001b[49m\u001b[43m(\u001b[49m\u001b[43mdim\u001b[49m\u001b[43m=\u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mtime\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/xarray/core/dataset.py:6382\u001b[39m, in \u001b[36mDataset.dropna\u001b[39m\u001b[34m(self, dim, how, thresh, subset)\u001b[39m\n\u001b[32m   6380\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m dim \u001b[38;5;129;01min\u001b[39;00m array.dims:\n\u001b[32m   6381\u001b[39m         dims = [d \u001b[38;5;28;01mfor\u001b[39;00m d \u001b[38;5;129;01min\u001b[39;00m array.dims \u001b[38;5;28;01mif\u001b[39;00m d != dim]\n\u001b[32m-> \u001b[39m\u001b[32m6382\u001b[39m         count += \u001b[43mto_numpy\u001b[49m\u001b[43m(\u001b[49m\u001b[43marray\u001b[49m\u001b[43m.\u001b[49m\u001b[43mcount\u001b[49m\u001b[43m(\u001b[49m\u001b[43mdims\u001b[49m\u001b[43m)\u001b[49m\u001b[43m.\u001b[49m\u001b[43mdata\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m   6383\u001b[39m         size += math.prod([\u001b[38;5;28mself\u001b[39m.sizes[d] \u001b[38;5;28;01mfor\u001b[39;00m d \u001b[38;5;129;01min\u001b[39;00m dims])\n\u001b[32m   6385\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m thresh \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;129;01mnot\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/xarray/namedarray/pycompat.py:117\u001b[39m, in \u001b[36mto_numpy\u001b[39m\u001b[34m(data, **kwargs)\u001b[39m\n\u001b[32m    115\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m is_chunked_array(data):\n\u001b[32m    116\u001b[39m     chunkmanager = get_chunked_array_type(data)\n\u001b[32m--> \u001b[39m\u001b[32m117\u001b[39m     data, *_ = \u001b[43mchunkmanager\u001b[49m\u001b[43m.\u001b[49m\u001b[43mcompute\u001b[49m\u001b[43m(\u001b[49m\u001b[43mdata\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    118\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m \u001b[38;5;28misinstance\u001b[39m(data, array_type(\u001b[33m\"\u001b[39m\u001b[33mcupy\u001b[39m\u001b[33m\"\u001b[39m)):\n\u001b[32m    119\u001b[39m     data = data.get()\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/xarray/namedarray/daskmanager.py:85\u001b[39m, in \u001b[36mDaskManager.compute\u001b[39m\u001b[34m(self, *data, **kwargs)\u001b[39m\n\u001b[32m     80\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mcompute\u001b[39m(\n\u001b[32m     81\u001b[39m     \u001b[38;5;28mself\u001b[39m, *data: Any, **kwargs: Any\n\u001b[32m     82\u001b[39m ) -> \u001b[38;5;28mtuple\u001b[39m[np.ndarray[Any, _DType_co], ...]:\n\u001b[32m     83\u001b[39m     \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mdask\u001b[39;00m\u001b[34;01m.\u001b[39;00m\u001b[34;01marray\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m compute\n\u001b[32m---> \u001b[39m\u001b[32m85\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[43mcompute\u001b[49m\u001b[43m(\u001b[49m\u001b[43m*\u001b[49m\u001b[43mdata\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/dask/base.py:685\u001b[39m, in \u001b[36mcompute\u001b[39m\u001b[34m(traverse, optimize_graph, scheduler, get, *args, **kwargs)\u001b[39m\n\u001b[32m    682\u001b[39m     expr = expr.optimize()\n\u001b[32m    683\u001b[39m     keys = \u001b[38;5;28mlist\u001b[39m(flatten(expr.__dask_keys__()))\n\u001b[32m--> \u001b[39m\u001b[32m685\u001b[39m     results = \u001b[43mschedule\u001b[49m\u001b[43m(\u001b[49m\u001b[43mexpr\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mkeys\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    687\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m repack(results)\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/odc/loader/_builder.py:498\u001b[39m, in \u001b[36m_dask_loader_tyx\u001b[39m\u001b[34m(srcs, gbt, iyx, prefix_dims, postfix_dims, cfg, rdr, env, load_state, selection)\u001b[39m\n\u001b[32m    496\u001b[39m \u001b[38;5;28;01mwith\u001b[39;00m rdr.restore_env(env, load_state):\n\u001b[32m    497\u001b[39m     \u001b[38;5;28;01mfor\u001b[39;00m ti, ti_srcs \u001b[38;5;129;01min\u001b[39;00m \u001b[38;5;28menumerate\u001b[39m(srcs):\n\u001b[32m--> \u001b[39m\u001b[32m498\u001b[39m         \u001b[43m_fill_nd_slice\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m    499\u001b[39m \u001b[43m            \u001b[49m\u001b[43mti_srcs\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mgbox\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mcfg\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mchunk\u001b[49m\u001b[43m[\u001b[49m\u001b[43mti\u001b[49m\u001b[43m]\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mydim\u001b[49m\u001b[43m=\u001b[49m\u001b[43mydim\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mselection\u001b[49m\u001b[43m=\u001b[49m\u001b[43mselection\u001b[49m\n\u001b[32m    500\u001b[39m \u001b[43m        \u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    501\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m chunk\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/odc/loader/_builder.py:583\u001b[39m, in \u001b[36m_fill_nd_slice\u001b[39m\u001b[34m(srcs, dst_gbox, cfg, dst, ydim, selection)\u001b[39m\n\u001b[32m    579\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m dst\n\u001b[32m    581\u001b[39m fuser = resolve_fuser(cfg.fuser_fqn) \u001b[38;5;28;01mif\u001b[39;00m cfg.fuser_fqn \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;129;01mnot\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m \u001b[38;5;28;01melse\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m\n\u001b[32m--> \u001b[39m\u001b[32m583\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[43mfuse_nd_slices\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m    584\u001b[39m \u001b[43m    \u001b[49m\u001b[43m(\u001b[49m\u001b[43msrc\u001b[49m\u001b[43m.\u001b[49m\u001b[43mread\u001b[49m\u001b[43m(\u001b[49m\u001b[43mcfg\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mdst_gbox\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mselection\u001b[49m\u001b[43m=\u001b[49m\u001b[43mselection\u001b[49m\u001b[43m)\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;28;43;01mfor\u001b[39;49;00m\u001b[43m \u001b[49m\u001b[43msrc\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;129;43;01min\u001b[39;49;00m\u001b[43m \u001b[49m\u001b[43msrcs\u001b[49m\u001b[43m)\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    585\u001b[39m \u001b[43m    \u001b[49m\u001b[43mfill_value\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    586\u001b[39m \u001b[43m    \u001b[49m\u001b[43mdst\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    587\u001b[39m \u001b[43m    \u001b[49m\u001b[43mydim\u001b[49m\u001b[43m=\u001b[49m\u001b[43mydim\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    588\u001b[39m \u001b[43m    \u001b[49m\u001b[43mprefilled\u001b[49m\u001b[43m=\u001b[49m\u001b[38;5;28;43;01mTrue\u001b[39;49;00m\u001b[43m,\u001b[49m\n\u001b[32m    589\u001b[39m \u001b[43m    \u001b[49m\u001b[43mfuser\u001b[49m\u001b[43m=\u001b[49m\u001b[43mfuser\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    590\u001b[39m \u001b[43m\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/odc/loader/_builder.py:549\u001b[39m, in \u001b[36mfuse_nd_slices\u001b[39m\u001b[34m(srcs, fill_value, dst, ydim, prefilled, fuser)\u001b[39m\n\u001b[32m    546\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m fuser \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n\u001b[32m    547\u001b[39m     fuser = fuser_for_nodata(fill_value)\n\u001b[32m--> \u001b[39m\u001b[32m549\u001b[39m \u001b[43m\u001b[49m\u001b[38;5;28;43;01mfor\u001b[39;49;00m\u001b[43m \u001b[49m\u001b[43myx_roi\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mpix\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;129;43;01min\u001b[39;49;00m\u001b[43m \u001b[49m\u001b[43msrcs\u001b[49m\u001b[43m:\u001b[49m\n\u001b[32m    550\u001b[39m \u001b[43m    \u001b[49m\u001b[38;5;28;43;01massert\u001b[39;49;00m\u001b[43m \u001b[49m\u001b[38;5;28;43mlen\u001b[39;49m\u001b[43m(\u001b[49m\u001b[43myx_roi\u001b[49m\u001b[43m)\u001b[49m\u001b[43m \u001b[49m\u001b[43m==\u001b[49m\u001b[43m \u001b[49m\u001b[32;43m2\u001b[39;49m\n\u001b[32m    551\u001b[39m \u001b[43m    \u001b[49m\u001b[38;5;28;43;01massert\u001b[39;49;00m\u001b[43m \u001b[49m\u001b[43mpix\u001b[49m\u001b[43m.\u001b[49m\u001b[43mndim\u001b[49m\u001b[43m \u001b[49m\u001b[43m==\u001b[49m\u001b[43m \u001b[49m\u001b[43mdst\u001b[49m\u001b[43m.\u001b[49m\u001b[43mndim\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/odc/loader/_builder.py:584\u001b[39m, in \u001b[36m<genexpr>\u001b[39m\u001b[34m(.0)\u001b[39m\n\u001b[32m    579\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m dst\n\u001b[32m    581\u001b[39m fuser = resolve_fuser(cfg.fuser_fqn) \u001b[38;5;28;01mif\u001b[39;00m cfg.fuser_fqn \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;129;01mnot\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m \u001b[38;5;28;01melse\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m\n\u001b[32m    583\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m fuse_nd_slices(\n\u001b[32m--> \u001b[39m\u001b[32m584\u001b[39m     (\u001b[43msrc\u001b[49m\u001b[43m.\u001b[49m\u001b[43mread\u001b[49m\u001b[43m(\u001b[49m\u001b[43mcfg\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mdst_gbox\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mselection\u001b[49m\u001b[43m=\u001b[49m\u001b[43mselection\u001b[49m\u001b[43m)\u001b[49m \u001b[38;5;28;01mfor\u001b[39;00m src \u001b[38;5;129;01min\u001b[39;00m srcs),\n\u001b[32m    585\u001b[39m     fill_value,\n\u001b[32m    586\u001b[39m     dst,\n\u001b[32m    587\u001b[39m     ydim=ydim,\n\u001b[32m    588\u001b[39m     prefilled=\u001b[38;5;28;01mTrue\u001b[39;00m,\n\u001b[32m    589\u001b[39m     fuser=fuser,\n\u001b[32m    590\u001b[39m )\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/odc/loader/_rio.py:140\u001b[39m, in \u001b[36mRioReader.read\u001b[39m\u001b[34m(self, cfg, dst_geobox, dst, selection)\u001b[39m\n\u001b[32m    132\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mread\u001b[39m(\n\u001b[32m    133\u001b[39m     \u001b[38;5;28mself\u001b[39m,\n\u001b[32m    134\u001b[39m     cfg: RasterLoadParams,\n\u001b[32m   (...)\u001b[39m\u001b[32m    138\u001b[39m     selection: Optional[ReaderSubsetSelection] = \u001b[38;5;28;01mNone\u001b[39;00m,\n\u001b[32m    139\u001b[39m ) -> \u001b[38;5;28mtuple\u001b[39m[\u001b[38;5;28mtuple\u001b[39m[\u001b[38;5;28mslice\u001b[39m, \u001b[38;5;28mslice\u001b[39m], np.ndarray]:\n\u001b[32m--> \u001b[39m\u001b[32m140\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[43mrio_read\u001b[49m\u001b[43m(\u001b[49m\u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43m_src\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mcfg\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mdst_geobox\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mdst\u001b[49m\u001b[43m=\u001b[49m\u001b[43mdst\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mselection\u001b[49m\u001b[43m=\u001b[49m\u001b[43mselection\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/odc/loader/_rio.py:567\u001b[39m, in \u001b[36mrio_read\u001b[39m\u001b[34m(src, cfg, dst_geobox, dst, selection)\u001b[39m\n\u001b[32m    561\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m cfg.fail_on_error:\n\u001b[32m    562\u001b[39m         log.error(\n\u001b[32m    563\u001b[39m             \u001b[33m\"\u001b[39m\u001b[33mAborting load due to failure while reading: \u001b[39m\u001b[38;5;132;01m%s\u001b[39;00m\u001b[33m:\u001b[39m\u001b[38;5;132;01m%d\u001b[39;00m\u001b[33m\"\u001b[39m,\n\u001b[32m    564\u001b[39m             src.uri,\n\u001b[32m    565\u001b[39m             src.band,\n\u001b[32m    566\u001b[39m         )\n\u001b[32m--> \u001b[39m\u001b[32m567\u001b[39m         \u001b[38;5;28;01mraise\u001b[39;00m e\n\u001b[32m    568\u001b[39m \u001b[38;5;28;01mexcept\u001b[39;00m rasterio.errors.RasterioError \u001b[38;5;28;01mas\u001b[39;00m e:\n\u001b[32m    569\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m cfg.fail_on_error:\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/odc/loader/_rio.py:553\u001b[39m, in \u001b[36mrio_read\u001b[39m\u001b[34m(src, cfg, dst_geobox, dst, selection)\u001b[39m\n\u001b[32m    549\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m roi, out.transpose([\u001b[32m1\u001b[39m, \u001b[32m2\u001b[39m, \u001b[32m0\u001b[39m])\n\u001b[32m    551\u001b[39m \u001b[38;5;28;01mtry\u001b[39;00m:\n\u001b[32m    552\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m fixup_out(\n\u001b[32m--> \u001b[39m\u001b[32m553\u001b[39m         \u001b[43m_rio_read\u001b[49m\u001b[43m(\u001b[49m\u001b[43msrc\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mcfg\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mdst_geobox\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mprep_dst\u001b[49m\u001b[43m(\u001b[49m\u001b[43mdst\u001b[49m\u001b[43m)\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mselection\u001b[49m\u001b[43m=\u001b[49m\u001b[43mselection\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    554\u001b[39m     )\n\u001b[32m    555\u001b[39m \u001b[38;5;28;01mexcept\u001b[39;00m (\n\u001b[32m    556\u001b[39m     rasterio.errors.RasterioIOError,\n\u001b[32m    557\u001b[39m     rasterio.errors.RasterBlockError,\n\u001b[32m    558\u001b[39m     rasterio.errors.WarpOperationError,\n\u001b[32m    559\u001b[39m     rasterio.errors.WindowEvaluationError,\n\u001b[32m    560\u001b[39m ) \u001b[38;5;28;01mas\u001b[39;00m e:\n\u001b[32m    561\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m cfg.fail_on_error:\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/odc/loader/_rio.py:601\u001b[39m, in \u001b[36m_rio_read\u001b[39m\u001b[34m(src, cfg, dst_geobox, dst, selection)\u001b[39m\n\u001b[32m    590\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34m_rio_read\u001b[39m(\n\u001b[32m    591\u001b[39m     src: RasterSource,\n\u001b[32m    592\u001b[39m     cfg: RasterLoadParams,\n\u001b[32m   (...)\u001b[39m\u001b[32m    597\u001b[39m     \u001b[38;5;66;03m# if resampling is `nearest` then ignore sub-pixel translation when deciding\u001b[39;00m\n\u001b[32m    598\u001b[39m     \u001b[38;5;66;03m# whether we can just paste source into destination\u001b[39;00m\n\u001b[32m    599\u001b[39m     ttol = \u001b[32m0.9\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m cfg.nearest \u001b[38;5;28;01melse\u001b[39;00m \u001b[32m0.05\u001b[39m\n\u001b[32m--> \u001b[39m\u001b[32m601\u001b[39m     \u001b[38;5;28;01mwith\u001b[39;00m \u001b[43mrasterio\u001b[49m\u001b[43m.\u001b[49m\u001b[43mopen\u001b[49m\u001b[43m(\u001b[49m\u001b[43msrc\u001b[49m\u001b[43m.\u001b[49m\u001b[43muri\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mr\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43msharing\u001b[49m\u001b[43m=\u001b[49m\u001b[38;5;28;43;01mFalse\u001b[39;49;00m\u001b[43m)\u001b[49m \u001b[38;5;28;01mas\u001b[39;00m rdr:\n\u001b[32m    602\u001b[39m         \u001b[38;5;28;01massert\u001b[39;00m \u001b[38;5;28misinstance\u001b[39m(rdr, rasterio.DatasetReader)\n\u001b[32m    603\u001b[39m         ovr_idx: Optional[\u001b[38;5;28mint\u001b[39m] = \u001b[38;5;28;01mNone\u001b[39;00m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/rasterio/env.py:464\u001b[39m, in \u001b[36mensure_env_with_credentials.<locals>.wrapper\u001b[39m\u001b[34m(*args, **kwds)\u001b[39m\n\u001b[32m    461\u001b[39m     session = DummySession()\n\u001b[32m    463\u001b[39m \u001b[38;5;28;01mwith\u001b[39;00m env_ctor(session=session):\n\u001b[32m--> \u001b[39m\u001b[32m464\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[43mf\u001b[49m\u001b[43m(\u001b[49m\u001b[43m*\u001b[49m\u001b[43margs\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkwds\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/rasterio/__init__.py:367\u001b[39m, in \u001b[36mopen\u001b[39m\u001b[34m(fp, mode, driver, width, height, count, crs, transform, dtype, nodata, sharing, thread_safe, opener, **kwargs)\u001b[39m\n\u001b[32m    364\u001b[39m     path = _parse_path(raw_dataset_path)\n\u001b[32m    366\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m mode == \u001b[33m\"\u001b[39m\u001b[33mr\u001b[39m\u001b[33m\"\u001b[39m:\n\u001b[32m--> \u001b[39m\u001b[32m367\u001b[39m     dataset = \u001b[43mDatasetReader\u001b[49m\u001b[43m(\u001b[49m\u001b[43mpath\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mdriver\u001b[49m\u001b[43m=\u001b[49m\u001b[43mdriver\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43msharing\u001b[49m\u001b[43m=\u001b[49m\u001b[43msharing\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mthread_safe\u001b[49m\u001b[43m=\u001b[49m\u001b[43mthread_safe\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    368\u001b[39m \u001b[38;5;28;01melif\u001b[39;00m mode == \u001b[33m\"\u001b[39m\u001b[33mr+\u001b[39m\u001b[33m\"\u001b[39m:\n\u001b[32m    369\u001b[39m     dataset = get_writer_for_path(path, driver=driver)(\n\u001b[32m    370\u001b[39m         path, mode, driver=driver, sharing=sharing, **kwargs\n\u001b[32m    371\u001b[39m     )\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/eo-datascience-cookbook/lib/python3.13/site-packages/rasterio/_base.pyx:329\u001b[39m, in \u001b[36mrasterio._base.DatasetBase.__init__\u001b[39m\u001b[34m()\u001b[39m\n\n\u001b[31mRasterioIOError\u001b[39m: HTTP response code: 502","ename":"RasterioIOError","evalue":"HTTP response code: 502"},"key":"A8MLjLbE8h"}],"key":"BvnQMipAhD"}],"key":"DyvOmd8whv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sig0_dc.VV.plot(col=\"time\", robust=True, cmap=\"Greys_r\", aspect=1, size=10)","key":"W6AApp2qpc"},{"type":"outputs","id":"2cPI-HhVS8OcWoW4IQiK5","children":[],"key":"rdKr2vz88h"}],"key":"hzNBZbdjhf"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Figure 3: Sentinel-1 microwave backscatter image for two timeslices.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uTdotYC5js"}],"key":"fC6Zl6lV7F"}],"key":"a5EYo9LqmE"}],"key":"axvUYTg2Wr"}],"key":"JogUjSvrlB"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Microwave Remote Sensing","url":"/notebooks/courses/microwave-remote-sensing","group":"Courses"},"next":{"title":"Unit Conversion","url":"/notebooks/courses/microwave-remote-sensing/unit-01/in-class-exercise-1","group":"Courses"}}},"domain":"http://localhost:3000"}